#version 430 core

uniform float time;
layout(rgba32f, binding = 0) uniform imageBuffer position_buffer;

layout(local_size_x = 128) in;

void main()
{
	  vec4 pos = imageLoad(position_buffer, int(gl_GlobalInvocationID.x));
	  pos = pos + vec4(sin(time) * 0.01, cos(time) * 0.01, 0, 0);
	  imageStore(position_buffer, int(gl_GlobalInvocationID.x), pos);
}